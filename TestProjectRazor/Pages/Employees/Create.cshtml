@page
@model TestProjectRazor.Pages.Employees.Create

@{
    ViewBag.Title = "Create";

    string photoPath = $"/images/{Model.Employee.PhotoPath ?? "noimage.png"}";

    if (TempData["error"] != null)
    {
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            <strong>Error!</strong> @TempData["error"].
            <button type="button" class="close btn btn-danger" id="closeBtn" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
    }

    ViewData["photoPath"] = photoPath;
    ViewData["photo"] = Model.Photo;
    ViewData["departments"] = Model.Departments;
    ViewData["EmployeeDepartmentId"] = Model.EmployeeDepartmentId;
    ViewData["type"] = "Create";
}

<div class="text-danger text-center" asp-validation-summary="All"></div>

<form method="post" class="mt-3" enctype="multipart/form-data">
    <partial name="Shared/_EmployeeFormPartial" model="Model.Employee" view-data="ViewData"/>
</form>